## 问题聚焦
- 仅针对 “AI 对话” 页面（app/components/AIChat.tsx）。
- 渲染失败主要体感：换行、粗体、一级标题、列表等未按 Markdown 呈现；流式阶段也看起来像纯文本。

## 诊断结论
- 流式阶段目前用纯文本临时展示，用户在长回复期间会认为“渲染失败”。
- 统一渲染器的规范化已到位（空行补齐、中文编号与项目符号转 Markdown、<br/> 归一化），但 AI 对话在流式阶段绕过了渲染器。
- 模型已切到 `deepseek-chat`，不会再出现 reasoning_content；AI 对话应直接用标准 Markdown 渲染。

## 改动方案（仅 AI 对话）
1. 始终用 TableRenderer 渲染助手消息，不再在流式阶段走纯文本临时展示（让用户实时看到 Markdown 结构逐步成型）。
2. 保留统一渲染器的预处理（空行补齐、中文编号/序号/项目符号转换、<br/> → \n），无需再额外定制。
3. 不修改 UnifiedChat 或讲解页，严格限定到 AIChat。

## 具体修改点
- 文件：`app/components/AIChat.tsx`
  - 在助手消息渲染处，删除“流式阶段用纯文本”的分支，改为始终：`<TableRenderer content={answer} />`。
  - 保留 `prose` 样式包装，维持版式。

## 验证步骤
1. 在 AI 对话发送包含完整 Markdown 的内容（标题、粗体、引用、列表、表格、代码块）；在回复进行中即可看到结构逐步渲染。
2. 使用中文结构文本（如“一、目标”“（1）要点”“• 项目”），确认自动转换为 Markdown 并正确渲染。
3. 连续发送 ≥3 条消息，确认自动标题仍可生成（已修正触发条件，不受本次渲染变更影响）。

## 风险与回滚
- 风险极低：仅改 UI 渲染分支；若用户偏好流式纯文本，可恢复分支。无后端或数据结构改动。

## 请求确认
- 是否同意在 AI 对话中取消流式阶段的纯文本临时渲染，改为始终通过 Markdown 渲染器展示助手消息？同意后立即实施并验证。