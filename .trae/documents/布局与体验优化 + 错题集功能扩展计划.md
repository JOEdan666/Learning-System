## 当前不足（布局与体验）
- 导航反馈不明显：当前页态未高亮，缺少二级层级与返回路径（breadcrumbs）。
- 背景与视觉层次偏重：多页使用图片+模糊层，影响性能与专注度；内容区与背景对比不够稳定。
- 加载与错误反馈不一致：不同模块的加载/错误提示风格不统一，网络错误信息冗长且不聚焦。
- Markdown渲染未全量统一：对话、学习历史、表格已增强，但代码/表格主题与滚动行为未完全一致。
- 时间与元信息不准确：对话消息使用估算时间，缺少真实时间戳与来源标记（学科/主题）。
- 知识库交互密度偏高：抽屉与页面均存在重叠路径，导入流程提示不统一，解析失败兜底文案可进一步简化。
- 首屏路径分散：主页同时引导多个入口但层次欠清晰（记录、系统学习、知识库、对话），建议一主两辅。

## 功能扩展：错题集（Mistake Book）
- 在系统化学习流程中增加“加入错题集”操作：
  - QuizStep：每题右上角“加入错题集”按钮；提交后自动将错误答案入库，手动加入的题标记 `manualAdded=true`。
  - ResultStep：错误列表每题提供“加入/移除错题集”切换；支持备注。
  - ReviewStep：支持从错题集中拉取同主题复习条目，进行间隔复习。
- 数据模型与API：
  - 复用 `/api/user-answers` 存储结构，扩展字段：`manualAdded:boolean`、`subject:string`、`topic:string`、`explanation:string`。
  - LearningProgressClient 增加 `addMistake(question, answer, meta)` 与 `removeMistake(id)` 方法；现有 `saveLearningProgress` 保持兼容。
- 错题集视图：
  - 在 `learning-history` 新增“错题集”标签页（已有），强化过滤：学科/主题/时间范围/手动加入；支持批量移除与导出。
  - 错题项卡片显示：题干、你的答案、正确答案、解析、加入时间；支持标记“已复习”。
- 复习策略：
  - 简单双曲线间隔：新加入→1天→3天→7天→21天；到期提示在首页“继续学习”卡片中显示待复习条目。

## 主页优化（信息架构与视觉）
- 信息架构：
  - 顶部导航保持当前四项，但在首页首屏用“主行动 + 次行动”结构：
    - 主行动：系统学习（跳 `learning-setup`）
    - 次行动：记录学习（本地笔记）、知识库管理
  - 最近动态模块：最近学习会话、最近对话、待复习错题数。
- 视觉与动线：
  - 减弱背景，增加留白与网格；卡片统一边距与阴影等级；按钮主次色一致。
  - 入口卡片用图标+一句话描述，避免长段文案。
- 状态与反馈：
  - 统一加载/错误组件：圆环+简短说明+重试按钮；网络失败统一文案。
  - 统一 Markdown 风格（代码主题、表格滚动），避免不同页面风格跳变。

## 实施步骤
1. 错题集API与客户端扩展：
  - `/api/user-answers` 增加 `manualAdded` 与元字段支持；LearningProgressClient 增加 `addMistake/removeMistake`。
2. 流程内入口：
  - QuizStep、ResultStep 增加“加入错题集”操作；提交错误自动入库；手动加入记录解析与学科/主题。
3. 错题集视图增强：
  - 在 `learning-history` 的“错题集”页增加过滤与批量操作；支持“已复习”标记。
4. 复习提醒：
  - 在首页新增“待复习”概览卡和跳转链接。
5. 主页UI简化：
  - 首屏卡片重排为主行动+次行动；最近动态模块；统一按钮样式与文案。
6. 统一状态与Markdown主题：
  - 抽象 Loading/Error 组件；为 Markdown 增加一致代码主题与表格滚动。

## 验证
- 从测验页手动/自动加入错题→在“错题集”页可见并过滤。
- 复习计划到期后首页显示数量提醒；点击进入相应错题复习。
- 主页动线清晰、首屏操作聚焦；各页面的表格/代码渲染一致。

如确认，按以上步骤分批实施（优先错题集功能与流程入口，其次主页与统一风格）。